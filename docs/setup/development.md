# Development

The following sections will provide information on how to develop the project locally, how to run tests, how to run and debug the app locally.


## Prerequisites

A Dev Container is provided to run the project in a containerized environment and make development easy as it has all prerequisites installed. To use it, you need to have Docker installed on your machine. The Dev Container Extension for VSCode is also recommended. Please refer to the [Dev Container Documentation](https://code.visualstudio.com/docs/remote/containers) for more information.


## Running the application
When the Dev-Container is running, the frontend can be run and debugged by using the following command:
```sh
npm run dev
```

At this point, the frontend should be available under `http://localhost:5173`.

## Tools and tips for development

### Recommended IDE Setup

[VSCode](https://code.visualstudio.com/) + [Vue - Official](https://marketplace.visualstudio.com/items?itemName=Vue.volar) (and disable Vetur).

### Type Support for `.vue` Imports in TS

TypeScript cannot handle type information for `.vue` imports by default, so we replace the `tsc` CLI with `vue-tsc` for type checking. In editors, we need [Vue - Official](https://marketplace.visualstudio.com/items?itemName=Vue.volar) to make the TypeScript language service aware of `.vue` types.

### API - Generate Client Code

To regenerate autogenerated code based on [openapi.yaml](./api/openapi.yaml) run the following command:
(We use this generator https://openapi-ts.dev/)

```sh
npm run generate
```

### Lint with [ESLint](https://eslint.org/)

```sh
npm run lint
```

## Code Structure

The `src` folder contains nearly all of the main application code.

The entry point of the application is the `main.ts` file which creates the Vue App (`App.vue`).

The `assets` folder contains the static files like the CSS files and images.

The `client` folder contains the generated types for the communication with the api.

The `components` folder contains Vue components that are used in thevViews, grouped by views or functionality

The `composables` folder contains the queries that are used to communicate with the api.

The `lib` and `utils` folders contain functions that are used at various points in the frontend.

The `plugins` folder contains plugins that are used for the Vue app.

The `presets` folder contains the Noir theme as an extension of the PrimeVue Aura theme.

The `router` folder contains the logic of the router, that is used to resolve the URLs to Views.

The `stores` folder contains the definition (types and functions) of the pinia stores.

The `views` folder contains the main Views which are mounted at the different URLs specified in the router.
